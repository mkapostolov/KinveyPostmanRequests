{
  "info": {
    "_postman_id": "f5e90b77-0189-4e4d-909c-f508ccf2ba50",
    "name": "Kinvey",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Users",
      "item": [
        {
          "name": "User - Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e25bef3-d6b0-427f-a55a-58774b3c0a3b",
                "exec": [
                  "var response = JSON.parse(responseBody);",
                  "pm.environment.set(\"accessToken\", response._kmd.authtoken);",
                  "pm.environment.set(\"user_id\", response._id);",
                  "pm.environment.set(\"username\", response.username);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "basic",
              "basic": [
                {
                  "key": "password",
                  "value": "{{appSecret}}",
                  "type": "string"
                },
                {
                  "key": "username",
                  "value": "{{appKey}}",
                  "type": "string"
                },
                {
                  "key": "saveHelperData",
                  "type": "any"
                },
                {
                  "key": "showPassword",
                  "value": false,
                  "type": "boolean"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\t\"username\":\"test\",\n\t\"password\":\"test\"\n}"
            },
            "url": {
              "raw": "{{host}}/user/{{appKey}}/login",
              "host": ["{{host}}"],
              "path": ["user", "{{appKey}}", "login"]
            }
          },
          "response": []
        },
        {
          "name": "User - Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f769308c-67f8-4c81-9d59-b4d97dab552f",
                "exec": [
                  "var response = JSON.parse(responseBody);",
                  "pm.environment.set(\"accessToken\", response._kmd.authtoken);",
                  "pm.environment.set(\"user_id\", response._id);",
                  "pm.environment.set(\"username\", response.username);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "basic",
              "basic": [
                {
                  "key": "password",
                  "value": "{{appSecret}}",
                  "type": "string"
                },
                {
                  "key": "username",
                  "value": "{{appKey}}",
                  "type": "string"
                },
                {
                  "key": "saveHelperData",
                  "type": "any"
                },
                {
                  "key": "showPassword",
                  "value": false,
                  "type": "boolean"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\":\"test\",\n  \"password\":\"test\"\n}"
            },
            "url": {
              "raw": "{{host}}/user/{{appKey}}",
              "host": ["{{host}}"],
              "path": ["user", "{{appKey}}"]
            }
          },
          "response": []
        },
        {
          "name": "User - Update",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f769308c-67f8-4c81-9d59-b4d97dab552f",
                "exec": [
                  "var response = JSON.parse(responseBody);",
                  "pm.environment.set(\"accessToken\", response._kmd.authtoken);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\t\"FirstName\": \"John\",\n\t\"LastName\": \"Doe\"\n}"
            },
            "url": {
              "raw": "{{host}}/user/{{appKey}}/{{user_id}}",
              "host": ["{{host}}"],
              "path": ["user", "{{appKey}}", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "User - Delete",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f769308c-67f8-4c81-9d59-b4d97dab552f",
                "exec": [""],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "type": "text",
                "value": "Kinvey {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/user/{{appKey}}/{{user_id}}",
              "host": ["{{host}}"],
              "path": ["user", "{{appKey}}", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "User - Email verification",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e25bef3-d6b0-427f-a55a-58774b3c0a3b",
                "exec": [""],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "basic",
              "basic": [
                {
                  "key": "password",
                  "value": "{{appSecret}}",
                  "type": "string"
                },
                {
                  "key": "username",
                  "value": "{{appKey}}",
                  "type": "string"
                },
                {
                  "key": "saveHelperData",
                  "type": "any"
                },
                {
                  "key": "showPassword",
                  "value": false,
                  "type": "boolean"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/rpc/{{appKey}}/{{username}}/user-email-verification-initiate",
              "host": ["{{host}}"],
              "path": [
                "rpc",
                "{{appKey}}",
                "{{username}}",
                "user-email-verification-initiate"
              ]
            }
          },
          "response": []
        },
        {
          "name": "User - Password Reset",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e25bef3-d6b0-427f-a55a-58774b3c0a3b",
                "exec": [""],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "basic",
              "basic": [
                {
                  "key": "password",
                  "value": "{{appSecret}}",
                  "type": "string"
                },
                {
                  "key": "username",
                  "value": "{{appKey}}",
                  "type": "string"
                },
                {
                  "key": "saveHelperData",
                  "type": "any"
                },
                {
                  "key": "showPassword",
                  "value": false,
                  "type": "boolean"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/rpc/{{appKey}}/{{username}}/user-password-reset-initiate",
              "host": ["{{host}}"],
              "path": [
                "rpc",
                "{{appKey}}",
                "{{username}}",
                "user-password-reset-initiate"
              ]
            }
          },
          "response": []
        },
        {
          "name": "User - Username Existence Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e25bef3-d6b0-427f-a55a-58774b3c0a3b",
                "exec": [""],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "basic",
              "basic": [
                {
                  "key": "password",
                  "value": "{{appSecret}}",
                  "type": "string"
                },
                {
                  "key": "username",
                  "value": "{{appKey}}",
                  "type": "string"
                },
                {
                  "key": "saveHelperData",
                  "type": "any"
                },
                {
                  "key": "showPassword",
                  "value": false,
                  "type": "boolean"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"{{username}}\"\n}"
            },
            "url": {
              "raw": "{{host}}/rpc/{{appKey}}/check-username-exists",
              "host": ["{{host}}"],
              "path": ["rpc", "{{appKey}}", "check-username-exists"]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    },
    {
      "name": "Flex",
      "item": [
        {
          "name": "Flex  - local",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-Kinvey-Username",
                "value": "123",
                "type": "text"
              },
              {
                "key": "X-Kinvey-User-Id",
                "value": "59d34b8ed32dfa996451b183",
                "type": "text"
              },
              {
                "key": "X-Kinvey-Original-Request-Headers",
                "value": "{\"x-kinvey-api-version\": \"3\",\"authorization\": \"Kinvey {{accessToken}}\",\"x-kinvey-client-app-version\" : \"2.0.5\"}",
                "type": "text"
              },
              {
                "key": "X-Kinvey-App-Metadata",
                "value": "{\"_id\": \"{{appKey}}\", \"appsecret\": \"{{appSecret}}\", \"mastersecret\": \"{{masterKey}}\", \"baasUrl\": \"{{host}}\"}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "http://localhost:10001/_flexFunctions/whitelistingFindIP",
              "protocol": "http",
              "host": ["localhost"],
              "port": "10001",
              "path": ["_flexFunctions", "whitelistingFindIP"]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    },
    {
      "name": "Data",
      "item": [
        {
          "name": "Data - Retrieve",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books"]
            }
          },
          "response": []
        },
        {
          "name": "Data - Retrieve count",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books/_count",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books", "_count"]
            }
          },
          "response": []
        },
        {
          "name": "Data - Retrieve with Query",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books?query={\"country\":\"France\"}",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books"],
              "query": [
                {
                  "key": "query",
                  "value": "{\"country\":\"France\"}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Data - Retrieve count with Query",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books/_count/?query={\"country\":\"France\"}",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books", "_count", ""],
              "query": [
                {
                  "key": "query",
                  "value": "{\"country\":\"France\"}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Data - Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "  {\n    \"author\": \"Chinua Achebe\",\n    \"country\": \"Nigeria\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Things_Fall_Apart\",\n    \"pages\": 209,\n    \"title\": \"Things Fall Apart\",\n    \"year\": 1958\n  }"
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books"]
            }
          },
          "response": []
        },
        {
          "name": "Data - Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "  {\n    \"author\": \"Chinua Achebe\",\n    \"country\": \"Nigeria\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Things_Fall_Apart\",\n    \"pages\": 500,\n    \"title\": \"Things Fall Apart\",\n    \"year\": 1958\n  }"
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books/ID-HERE",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books", "ID-HERE"]
            }
          },
          "response": []
        },
        {
          "name": "Data - Delete",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{host}}/appdata/{{appKey}}/books/ID-HERE",
              "host": ["{{host}}"],
              "path": ["appdata", "{{appKey}}", "books", "ID-HERE"]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    },
    {
      "name": "Files",
      "item": [
        {
          "name": "fileUpload1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "59870221-2ca8-4cc5-92e3-9b9279aac4b1",
                "exec": [
                  "var response = JSON.parse(responseBody);",
                  "pm.environment.set(\"_uploadURL\", response._uploadURL);",
                  "pm.environment.set(\"file_x-goog-acl\", response._requiredHeaders[\"x-goog-acl\"]);",
                  "pm.environment.set(\"file_Cache-Control\", response._requiredHeaders[\"Cache-Control\"]);",
                  "pm.environment.set(\"file_Content-Type\", response._requiredHeaders[\"Content-Type\"]);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Kinvey {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Kinvey-Content-Type",
                "value": "image/png"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"_filename\":\"pictureName.PNG\",\"_public\":false}"
            },
            "url": {
              "raw": "{{host}}/blob/{{appKey}}",
              "host": ["{{host}}"],
              "path": ["blob", "{{appKey}}"]
            }
          },
          "response": []
        },
        {
          "name": "fileUpload2",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-goog-acl",
                "value": "{{file_x-goog-acl}}"
              },
              {
                "key": "Cache-Control",
                "value": "{{file_Cache-Control}}"
              },
              {
                "key": "Content-Type",
                "value": "image/png"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": {
              "raw": "{{_uploadURL}}",
              "host": ["{{_uploadURL}}"]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    },
    {
      "name": "Custom Endpoint",
      "item": [
        {
          "name": "Endpoint",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "type": "text",
                "value": "Kinvey {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "url": {
              "raw": "{{host}}/rpc/{{appKey}}/custom/testKinveyVersion",
              "host": ["{{host}}"],
              "path": ["rpc", "{{appKey}}", "custom", "testKinveyVersion"]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "586a95fa-06c0-435a-87d0-8255a9636863",
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "b292e59c-9eb7-4358-9d4c-a0984a562bb2",
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "protocolProfileBehavior": {}
}
